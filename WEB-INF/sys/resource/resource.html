<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<html lang="zh-CN">
	[#include "/sys/include/meta.html"/]
	
	<body class="no-skin">
		
		[#include "/sys/include/head.html"/]
		
		<div class="main-container" id="main-container">

			[#include "/sys/include/menu.html"/]
			
			<div class="main-content">
				<div class="main-content-inner">
					<div class="page-content">
						
						[#include "/sys/include/module.html"/]
						<div class="row">
							<!-- .col -->
							<div class=	"col-xs-6 col-sm-3 left">
								<div class="widget-box widget-color-blue2">
									<div class="widget-header">
										<h4 class="widget-title lighter smaller">资源树</h4>
									</div>

									<div class="widget-body">
										<div class="widget-main padding-8">
											<ul id="resourceTree" class="ztree"></ul>
										</div>
									</div>
								</div>
							</div><!-- /.col -->
							<div class="col-xs-6 col-sm-9">
								<div>
									<p>
										<a href="javascript:save()" role="button" class="btn btn-sm btn-success" > 添加资源 </a>
									</p>
								</div>
								<div class="table-header">
									资源列表
								</div>
								<table class="table table-striped table-bordered" id="resourceTable" width="100%">
                        		</table>
							</div><!-- /.col -->
						</div><!-- /.row -->
						
						<div id="model-form"  class="modal" tabindex="-1">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="blue bigger" id="form-title"></h4>
									</div>

									<div class="modal-body">
										<div class="row">
											<div class="col-xs-12">
												<form class="form-horizontal" id="saveForm" method="get">
													<input type="hidden" name="id" id="id" />
											    	<input type="hidden" name="parentResource.id" id="parentResource" />
													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="resourceCode">资源编码:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="text" name="resourceCode" id="resourceCode" class="col-xs-12 col-sm-10" />
																<input type="hidden" name="code" id="code" />
															</div>
														</div>
													</div>
													
													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="name">资源名称:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="text" name="name" id="name" class="col-xs-12 col-sm-10" />
															</div>
														</div>
													</div>

													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="url">请求地址:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="text" name="url" id="url" class="col-xs-12 col-sm-10" />
															</div>
														</div>
													</div>

													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="icon">显示图标:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="text" id="icon" name="ico" class="col-xs-12 col-sm-10" />
															</div>
														</div>
													</div>

													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="sort">排序编号:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="number" id="sort" name="sort"  class="col-xs-12 col-sm-10" />
															</div>
														</div>
													</div>

													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" for="desc">备注:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<textarea rows="" cols="" id="desc" name="desc" class="col-xs-12 col-sm-10" ></textarea>
															</div>
														</div>
													</div>

												</form>
											</div>
										</div>
									</div>

									<div class="modal-footer">
										<button class="btn btn-sm"  data-dismiss="modal">
											<i class="ace-icon fa fa-times"></i>
											取消
										</button>

										<button id="savebtn" class="btn btn-sm btn-primary"  onclick="saveResource()">
											<i class="ace-icon fa fa-check"></i>
											保存
										</button>
										
										<button id="updatebtn" class="btn btn-sm btn-primary"  onclick="updateResource()">
											<i class="ace-icon fa fa-check"></i>
											修改
										</button>
									</div>
								</div>
							</div>
						</div><!-- PAGE CONTENT ENDS -->

					</div><!-- /.page-content -->
				</div>
			</div><!-- /.main-content -->

			[#include "/sys/include/footscript.html"/]
		</div><!-- /.main-container -->
		
	</body>
	<link rel="stylesheet" type="text/css" href="${site}/assets/js/zTree/css/zTreeStyle/zTreeStyle.css"/>
 	<script type="text/javascript" src="${site}/assets/js/zTree/js/jquery.ztree.core-3.5.js"></script>
	<script type="text/javascript" src="${site}/assets/js/fuelux/fuelux.tree.js"></script>
	<script type="text/javascript" src="${site}/sys/js/resource.js"></script>
</html>