<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	[#include "/sys/include/meta.html"/]
	
	<body class="no-skin">
		
		 [#include "/sys/include/head.html"/]
		
		<div class="main-container" id="main-container">

			[#include "/sys/include/menu.html"/]
			
			<div class="main-content">
				<div class="main-content-inner">
					<div class="page-content">
						
						[#include "/sys/include/module.html"/]
						<div class="row">
							<!-- .col -->
							<div class="col-xs-12 col-sm-12">
							<div class="search-form">
								<div class="search-from-group" style="width: 75%;">
									<div>
										<p>
											<a href="#model-form" role="button"
												class="btn btn-sm btn-success" data-toggle="modal"> 添加用户 </a>
										</p>
									</div>
								</div>
								<div class="right search-from-group" style="width: 25%;">
<!-- 									<form id="searchform"> -->
										<div class="input-group search-group">
											<input type="text" name="searchinfo"
												class="form-control search-query" placeholder="输入用户名查询" id="queryName">
											<span class="input-group-btn">
												<button type="button" id="searchBtn"
													class="btn btn-purple btn-sm" onclick="query();" id="buttonquery">
													<span
														class="ace-icon fa fa-search icon-on-right bigger-110"></span>
													查询
												</button>
											</span>
										</div>
<!-- 									</form> -->
								</div>
							</div>
							<div class="table-header">
									用户列表
								</div>
								<table class="table table-striped table-bordered" id="userTable" width="100%">
                        		</table>
							</div><!-- /.col -->
						</div><!-- /.row -->
						
						
						
						<div id="model-form" class="modal" tabindex="-1">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="blue bigger">添加用户</h4>
									</div>

									<div class="modal-body">
										<div class="row">
											<div class="col-xs-12">
												<form class="form-horizontal" id="saveForm"  >
													<input type="hidden" name="id" id="id" />
													
													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right">用户名:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="text" name="username" id="username"  onblur="check()" class="col-xs-12 col-sm-8"/>
																<label class=" control-label addWarning" id="addUnWarning" style="color: red;" hidden>该用户名已注册</label>
															</div>
														</div>
													</div>
													
													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" >密码:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="password" name="password" class="col-xs-12 col-sm-8" id="password" onblur="passwordCheck('add')"/>
																<label class=" control-label addWarning" id="addPwWarning" style="color: red;" hidden>8-18个字符，请使用大写字母、小写字母、数字、特殊字符，三个以上组合，长度8位以上！</label>
															</div>
														</div>
													</div>

													<div class="space-2"></div>

													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right">真实姓名:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="text" name="realname"  class="col-xs-12 col-sm-8" />
															</div>
														</div>
													</div>
												</form>
											</div>
										</div>
									</div>

									<div class="modal-footer">
										<button class="btn btn-sm" data-dismiss="modal">
											<i class="ace-icon fa fa-times"></i>
											取消
										</button>

										<button class="btn btn-sm btn-primary" onclick="saveUser()">
											<i class="ace-icon fa fa-check"></i>
											保存
										</button>
									</div>
								</div>
							</div>
						</div><!-- PAGE CONTENT ENDS -->
						<div id="user-form" class="modal" tabindex="-1">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="blue bigger">修改用户</h4>
									</div>

									<div class="modal-body">
										<div class="row">
											<div class="col-xs-12">
												<form class="form-horizontal" id="updateForm"  >
													<input type="hidden" name="id" id="id2" />
													
													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" >用户名:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<!--<input type="text" name="username" id="username2"  onblur="ucheck()" class="col-xs-12 col-sm-8"/>																-->
																<input type="text" name="username" id="username2"  readonly="readonly" class="col-xs-12 col-sm-8"/>
																<label class=" control-label updateWarning" id="updateUnWarning" style="color: red;" hidden>该用户名已注册</label>
															</div>
														</div>
													</div>
													<div class="form-group">
														<label class="col-sm-3 control-label no-padding-right" for="modifypsw">密码: </label>
				
														<div class="col-sm-9">
															<input  type="password" class="col-xs-10 col-sm-5" name="password" id="modifypsw"  disabled="true" onblur="passwordCheck('update')"/>
															<span class="help-inline col-xs-12 col-sm-7">
																<label class="middle">
																	<input class="ace" type="checkbox" id="id-disable-check" />
																	<span class="lbl">修改密码</span>
																</label>
																<label class=" control-label updateWarning" id="updatePwWarning" style="color: red; text-align: left;" hidden>8-18个字符，请使用大写字母、小写字母、数字、特殊字符，三个以上组合，长度8位以上！</label>
															</span>
														</div>
													</div>

													<div class="space-2"></div>

													<div class="form-group">
														<label class="control-label col-xs-12 col-sm-3 no-padding-right" >真实姓名:</label>

														<div class="col-xs-12 col-sm-9">
															<div class="clearfix">
																<input type="text" name="realname"  class="col-xs-12 col-sm-8" />
															</div>
														</div>
													</div>
												</form>
											</div>
										</div>
									</div>

									<div class="modal-footer">
										<button class="btn btn-sm" data-dismiss="modal">
											<i class="ace-icon fa fa-times"></i>
											取消
										</button>

										<button class="btn btn-sm btn-primary" onclick="updateUser()">
											<i class="ace-icon fa fa-check"></i>
											保存
										</button>
									</div>
								</div>
							</div>
						</div><!-- PAGE CONTENT ENDS -->
						
						<div id="distribution" class="modal" tabindex="-1">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="blue bigger">分配角色</h4>
									</div>
                    
									<div class="modal-body">
										<div class="row">
										        
										        <input type="hidden" name="userId" id="userId" />
												<table id="simple-table" class="col-xs-12 col-sm-12 table table-striped table-bordered table-hover">
											        <thead>
												        <tr>
													       <th>
													    	   
												          </th>
											           	  <th>角色名称</th>
												          <th>备注</th>
												      </tr>
										        	</thead>
										        	<tbody id="roleResource"></tbody>
                        		                </table>
							    		</div>
									</div>

								 <div class="modal-footer">
										<button class="btn btn-sm"  data-dismiss="modal">
											<i class="ace-icon fa fa-times"></i>
											取消
										</button>

										<button id="save" class="btn btn-sm btn-primary"  onclick="saveConfiguration()">
											<i class="ace-icon fa fa-check"></i>
											保存
										</button>
								</div>
							</div>
						</div>
                        </div>
					</div><!-- /.page-content -->
				</div>
			</div><!-- /.main-content -->

			[#include "/sys/include/footscript.html"/]
		</div><!-- /.main-container -->
		
	</body>
	<link rel="stylesheet" type="text/css" href="${site}/assets/js/zTree/css/zTreeStyle/zTreeStyle.css"/>
 	<script type="text/javascript" src="${site}/assets/js/zTree/js/jquery.ztree.core-3.5.js"></script>
	<script type="text/javascript" src="${site}/assets/js/fuelux/fuelux.tree.js"></script>
	<script type="text/javascript" src="${site}/sys/js/admin.js"></script>
</html>